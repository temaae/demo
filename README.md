# Примеры исходных кодов

## AutomateTaskSitemap.php

Исходный код класса генерации карты сайта для фреймворка Nimble.
Алгоритм разрабатывался с учетом манипуляции бильщим массивом данных и поэтому использует потоковую запись-чтение файлов без помещения данных во внутренние структуры.
За кадром данного класса происходит курсорное потоковое чтение данных из БД, дабы также исключить чрезмерное потребление памяти php окружением.

Данный подход позволяет в рабочем проекте генерировать карты сайта, содержащие 10-ки миллионов страниц за несколько минут на vps хостинге реднего уровня без заметного влияния на работу клиентской части приложения.

## multisql.go

В файле реализован механизм, позволяющий выбирать однородные данные из множества баз данных, управляемых одной или несколькими СУБД Postgresl (с минимальными корректировками может работать с любыми sql базами, поддерживаемыми golang).

Для выполнения запросов создаются подключения к набору БД и запускается параллельное выполнение запросов.
Полученные результаты помещаются в разделяемое map-хранилище и возвращаются в качестве результата.

Механизм используется в рабочих проектах для анализа общих финансовых данных организации с 30+ филиалами, работающими каждый в собственной БД. Предпочтительно с сервера подобным методом собирать обработанные данные небольшого обьема (зависит от наличия свободного ОЗУ) или использовать как альтернативу оптимизированные файловые хранилища вместо структуры в памяти. 
